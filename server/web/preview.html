<!DOCTYPE html>
<html lang="">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>原始資料預覽</title>
	<link rel="stylesheet"  href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/style.css">
	<!-- <link rel="stylesheet"  href="css/jquery-ui.min.css"> -->
	<!-- <link rel="stylesheet"  href="css/bootstrap-theme.min.css"> -->
	<link rel="stylesheet" 	type="text/css" href="css/jqueryFileTree.css" media="screen" />
	<!-- <link rel="stylesheet"  href="css/bootstrap-tagsinput.css"> -->
	<script src="css/c3.css"></script>	
	<link rel="stylesheet"  href="css/lobipanel.css">
	<style>
	</style>
</head>
<body id="body" class="fix_body">
<nav class="navbar navbar-fixed-top" role=navigation>
	<div class="container-fluid">
		<div class="navbar-header">
			<a class="navbar-brand" href="/privacy">去識別化工具</a>
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=#mainnavbar aria-expanded=false aria-controls=navbar> 
			<span class=sr-only>Toggle navigation</span> 
			<span class=icon-bar></span> <span class=icon-bar></span> 
			<span class=icon-bar></span> </button> 
		</div>
		<div id="mainnavbar" class="navbar-collapse collapse">
			<ul class="nav navbar-nav navbar-right">
				<li><a href="">Benson</a></li>
			</ul>
		</div>
	</div>
</nav>
<aside class="menu">
		<ul>
			<li class=""><a class="general_transition" href="/privacy"><span class="glyphicon glyphicon-dashboard" aria-hidden="true"></span> Dashboard</a></li>
			<li class="active"><a class="general_transition" href=""><span class="glyphicon glyphicon-cog"></span> Setting</a></li>
			<li><a class="general_transition" href=""><span class="glyphicon glyphicon-question-sign"></span>Help</a></li>
		</ul>
</aside>
<div class="container-fluid" id="bigContainer">
	<div class="row subnav">
		<div class="col-xs-12">
			<ul id="tool-tabs" class="nav nav-tabs" role="tablist">
	        <li class="active"><a href="preview.html" >原始資料預覽</a></li>
	        <li><a href="association-properties.html">關聯屬性設定</a></li>
	        <li><a href="de-identification.html" >去識別化</a></li>
	        <li><a href="query-error-rate.html" >查詢誤差率</a></li>
	        <li><a href="analysis.html" >合成資料分析</a></li>
	    	</ul>
	  </div><!-- col-xs-12 -->
	</div><!-- row -->
		    	<div id="tabs-content" class="tab-content">
				    <div class="tab-pane active tab_con" id="data-preview">
				       <div class="row">
								<div class="col-xs-6 col-lg-6">
									<h2><strong>請輸入機敏資料集名稱(.csv)</strong></h2>
									<div class="row">
										<div class="col-xs-6">
											<input class="form-control" type="text" id="filenameinput"></input>
										</div>
										<div class="col-xs-6">
											<a role="button" class="btn btn-primary" id="fileconfirm">確認</a>
											<a role="button" class="btn btn-primary" id="filecancel">取消</a>
											<a role="button" class="btn btn-primary" id="fileclear">清除</a>
										</div>
									</div><!-- row -->
										<!-- <button id="JQueryFTD_Demo" class="JQueryFTD">Browse Files</button> -->
									<h2><strong>原始資料集</strong></h2>
											
											<table class="table table-bordered table-hover">
												<thead>
													<tr id="sensitiveHead">
													</tr>
												</thead>
												<tbody id="sensitiveBody">
												</tbody>
											</table>
								</div><!-- col-xs-6 -->
								<div class="col-xs-6 col-lg-6">
										<div class="panel panel-primary" id="columnPanel">
									      	<div class="panel-heading lead"><strong>欄位資訊設定</strong></div>
									      	<div class="panel-body" style="">
														<table class="table table-bordered table-hover" >
														<thead>
												      <tr>
												          <th><label class="checkbox-inline"><input type="checkbox" value="" id="dataSelectedCheckAll"><strong>全選</strong></label></th>
															    <th>欄位</th>
															    <th>型態</th>
															    <th>關聯屬性</th>
												            </tr>
												         </thead> 
												         <tbody id="columnSettingBody">
								
																</tbody>  
														</table>
														<a role="button" class="btn btn-primary" id="columnconfirm">確認</a>
														<a role="button" class="btn btn-primary" id="columncancel">取消</a>
														<a role="button" class="btn btn-primary" id="columnreset">重設</a>	
									    </div><!-- panel-body -->
									</div><!-- panel -->
											<div class="col-xs-6 col-lg-6">
												<h2 class=""><strong>屬性分佈圖</strong></h2>
											</div><!-- col-xs-6 -->
									      	<div class="col-xs-6 col-lg-6 title_select">
										  		<select class="form-control" >
												<option>身高</option>
												<option>體重</option>
												<option>年齡</option>
												<option>學歷</option>
												<option>收入</option>
												</select>
											</div><!-- col-xs-6  -->
											<div class="">
												<div class="box box_inside">
													<div id="barchart">
														
													</div><!-- bar_chart -->
												</div><!-- box -->
											</div><!-- col-xs-12 -->
									</div><!-- col-xs-6 -->
								</div><!-- row -->
				        </div><!-- tab-pane -->
				        
		        </div><!--tabs-content-->
	</div><!--first row-->
	<div class="setting_btns">
  	<a type="button" class="btn btn-primary">儲存設定</a>
  	<a type="button" class="btn btn-primary">返回列表</a>
	</div>
</div>

<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/jquery-ui.min.js"></script>
<script type="text/javascript" src="js/bootstrap.js"></script>
<script type="text/javascript" src="js/bootstrap-filestyle.min.js"></script>
<script type="text/javascript" src="https://rawgit.com/twitter/typeahead.js/master/dist/bloodhound.min.js"></script>
<!-- <script type="text/javascript" src="js/bootstrap-tagsinput.js"></script>
<script type="text/javascript" src="js/bootstrap3-typeahead.min.js"></script> -->
<script type="text/javascript" src="js/jqueryFileTree.js"></script>
<script type="text/javascript" src="js/jquery.easing.1.3.js"></script>
<script type="text/javascript" src="js/ajax-loading.js"></script>
<script type="text/javascript" src="js/lobipanel.js"></script>
<script type="text/javascript">
	// $(document).ready(function(){
	// 	$('#JQueryFTD_Demo').fileTree({
	// 	root: '/workspace/',
	// 	script: 'connectors/jqueryFileTree.asp',
	// 	expandSpeed: 1000,
	// 	collapseSpeed: 1000,
	// 	multiFolder: false
	// 	}, function(file) {
	// 	alert(file);
	// 	});
	// 	});
</script>
<script type="text/javascript" src="js/DeIdentificationProcess.js"></script>
<script type="text/javascript" src="js/DeIdentificationProcessManagement.js"></script>
<script type="text/javascript" src="js/utilities.js"></script>
<script type="text/javascript" src="js/jquery.cookie.js"></script>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
<script src="js/c3.min.js"></script>	
<script>
	var dataset=[];
  var mapdata;
  var color = d3.scale.category10();
  var margin = {top: 40, right: 20, bottom: 30, left: 40},
    width = document.getElementById("barchart").offsetWidth - margin.left - margin.right,
    height = 300 - margin.top - margin.bottom;
 	d3.json("school.json", function(error, json) {
 		if (error) return console.warn(error);
    for($i=0 ; $i<json.length ; $i++){
      dataset.push({"label":json[$i].name_tw, "value":json[$i].count, "color": color($i)});
    }
    var formatPercent = d3.format("");

    var x = d3.scale.ordinal()
        .rangeRoundBands([0, width], .1);

    var y = d3.scale.linear()
        .range([height, 0]);

    var xAxis = d3.svg.axis()
        .scale(x)
        .orient("bottom");

    var yAxis = d3.svg.axis()
        .scale(y)
        .orient("left")
        .tickFormat(formatPercent);

    var tip = d3.tip()
      .attr('class', 'd3-tip')
      .offset([-10, 0])
      .html(function(d) {
        return "<strong>數量:</strong> <span style='color:red'>" + d.value + "</span>";
      })

    var svg2 = d3.select("#barchart").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

    svg2.call(tip);

    x.domain(dataset.map(function(d) { return d.label; }));
  y.domain([0, d3.max(dataset, function(d) { return d.value; })]);

  svg2.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis);

  svg2.append("g")
      .attr("class", "y axis")
      .call(yAxis)
    .append("text")
      .attr("transform", "rotate(-90)")
      .attr("y", 6)
      .attr("dy", ".71em")
      .style("text-anchor", "end")
      .text("數量");

  svg2.selectAll(".bar")
      .data(dataset)
    .enter().append("rect")
      .attr("class", "bar")
      .attr("x", function(d) { return x(d.label); })
      .attr("width", x.rangeBand())
      .attr("y", function(d) { return y(d.value); })
      .attr("height", function(d) { return height - y(d.value); })
      .on('mouseover', tip.show)
      .on('mouseout', tip.hide);



 	});
</script>
</body>
</html>